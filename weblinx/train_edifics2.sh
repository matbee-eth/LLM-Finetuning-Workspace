# accelerate launch train_edifics2.py --output_dir test_model_output --train_dataset _training.parquet --eval_dataset _validation.parquet --remove_unused_columns=False --per_device_train_batch_size 1 --bf16 true --gradient_checkpointing true --push_to_hub --deepspeed "../idefics2/zero_stage3_config.json" --use_flash_attn true --use_peft_lora true --use_reentrant true --report_to wandb
torchrun --standalone --nnodes=1 --nproc-per-node=2 train_edifics2.py --output_dir test_model_output --train_dataset _training.parquet --eval_dataset _validation.parquet --remove_unused_columns=False --per_device_train_batch_size 1 --bf16 true --gradient_checkpointing true --push_to_hub --deepspeed "../idefics2/zero_stage3_config.json" --use_flash_attn true --use_peft_lora true --use_reentrant true --report_to wandb